# 为什么要使用索引？
1. 通过创建唯一性索引，可以保证数据库表中每一行数据的唯一性
2. 可以大大加快数据的检索速度（大大减少检索的数据量），这也是创建索引的最主要的原因。
3. 帮助服务器避免排序和临时表
4. 将随机 IO 变为顺序 IO
5. 可以加速表和表之间的连接，特别是在实现数据的参考完整性方面特别有意义

# 索引这么多优点，为什么不对表中的每一个列创建一个索引呢？
1. 当对表中的数据进行增加、删除和修改的时候，索引也要动态的维护，这样就降低了数据的维护速度。
2. 索引需要占用物理空间，除了数据表占数据空间之外，每一个索引还要占一定的物理空间，如果要建立聚簇索引，那么需要的空间就会更大。
3. 创建索引和维护索引要耗费时间，这种时间随着数据量的增加而增加。

# 使用索引的注意事项？
1. 在经常需要搜索的列上，可以加快搜索的速度；
2. 在经常使用在 WHERE 子句中的列上面创建索引，加快条件的判断速度。
3. 在经常需要排序的列上创 建索引，因为索引已经排序，这样查询可以利用索引的排序，加快排序查询时间；
4. 对于中到大型表索引都是非常有效的，但是特大型表的话维护开销会很大，不适合建索引
5. 在经常用在连接的列上，这 些列主要是一些外键，可以加快连接的速度；
6. 避免 where 子句中对字段施加函数，这会造成无法命中索引。
7. 删除长期未使用的索引，不用的索引的存在会造成不必要的性能损耗 MySQL 5.7 可以通过查询 sys 库的 chema_unused_indexes 视图来查询哪些索引从未被使用
8. 在使用 limit offset 查询缓慢时，可以借助索引来提高性能
9. 将某一列设置为default null，where 是可以走索引，另外索引列是否设置 null 是不影响性能的。 但是，还是不建议列上允许为空。最好限制not null，因为null需要更多的存储空间并且null值无法参与某些运算。
10. 在使用InnoDB时使用与业务无关的自增主键作为主键，即使用逻辑主键，而不要使用业务主键。

# Mysql 索引的两种数据结构
## 哈希索引
对于哈希索引来说，底层的数据结构就是哈希表，因此在绝大多数需求为单条记录查询的时候，可以选择哈希索引，查询性能最快；其余大部分场景，建议选择BTree索引。
## BTree索引

# 覆盖索引介绍
## 什么是覆盖索引？
如果一个索引包含（或者说覆盖）所有需要查询的字段的值，我们就称之为“覆盖索引”。我们直到 InnoDB 存储引擎中，如果不是主键索引，叶子节点存储的是主键 + 列值。最终还是要“回表”，也就是要通过主键再查找一次。这样就会比较慢覆盖索引就是把要查询出的列和索引是对应的，不做回表操作！

**覆盖索引使用实例**
```
select username , age from user where username = 'Java' and age = 22
```

# 选择索引和编写利用这些索引的查询的3个原则
1. 单行访问是很慢的，特别是在机械硬盘存储中（SSD 的随机 I/O

